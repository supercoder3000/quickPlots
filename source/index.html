<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
</head>

<body onload=plot()>
	<p id="pDebug"></p>
	<!-- <p>X: <input type="text" id="dataX" value="1, 2, 3, 4", onchange=plot() label="X"></p> -->
	<p id="pDataY">Y: <input type="text" id="dataY" value="1, 2, 3, 4", onchange=plot() label="Y"></p>    
	
</body>

<script>

var idPlotDiv = 0

function getTime()
{
	var date = new Date();
	
	hh = date.getHours();
	mm = date.getMinutes();
	ss = date.getSeconds();
	 
	if(hh < 10){hh = '0'+hh;} 
	if(mm < 10){mm = '0'+mm;} 
	if(ss < 10){ss = '0'+ss;}
	
	return date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + ' ' + hh+':'+mm+':'+ss;
}

function plot() {
	
	// var dataX = document.getElementById('dataX').value.match(/\d+(?:\.\d+)?/g).map(Number)
	var dataY = document.getElementById('dataY').value.match(/\d+(?:\.\d+)?/g).map(Number)
	var dataX = [...Array(dataY.length).keys()]
	
	document.getElementById("pDebug").innerHTML  = idPlotDiv + "";	
	// document.write(dataY.size)

	var trace1 = {
	  x: dataX,
	  y: dataY,
	  type: 'scatter'
	};

	var data = [trace1];
	
	var div = document.createElement("DIV");
	div.id = "idPlotDiv" + idPlotDiv
	
	var pDataY = document.getElementById('pDataY');
	document.body.insertBefore(div, pDataY.nextSibling); 	

	var layout = {
		title: getTime()
	};
	
	Plotly.newPlot(div.id, data, layout);

	
	idPlotDiv++;
}

</script>